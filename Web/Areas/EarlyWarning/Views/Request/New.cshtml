@using System.Collections
@using Cats.Helpers
@model Cats.Models.HRDPSNPPlan


@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<fieldset>
    <legend>
        New  Request
    </legend>
</fieldset> 

@section LeftBar
{
    @Html.Partial("_RegionalRequestLeftBar")

}
@section Toolbar
{
    <a class="btn toolbar-btn " data-buttontype="btn_save" data-buttontype="btn_forward" data-submittedform="frm_create_request"></a>
    <a class="btn toolbar-btn " data-buttontype="btn_cancel" href="@Url.Action("Index", "Request")" title="save"></a>
}

@using (Html.BeginForm("New", "Request", FormMethod.Post, new { id = "frm_create_request" }))
{   
    
    <div class="form-horizontal well">

        <table border="0" style="width: 100px;">
            <tr>
                <td style="width: 50%">
                    <div class="control-label">
                        @Html.LabelFor(model => model.ProgramID, "Program")
                    </div>
                    <div class="controls">
                        @Html.DropDownList("ProgramID", null, new { @id = "cmb_programId" })
                        @Html.ValidationMessageFor(model => model.ProgramID)
                    </div>
                </td>

                <td style="width: 50%">
                  
                    <div>
                        <div class="control-label">
                            @Html.LabelFor(model => model.Year, "Year (Specify it in EC)")
                        </div>
                        <div class="controls">
                            @Html.TextBoxFor(model => model.Year)
                            @Html.ValidationMessageFor(model => model.Year)
                            @* <p id="Year_description">As specified on the current HRD</p>*@
                        </div>
                    </div>
                </td>


            </tr>
            <tr id="psnp_relif_Plan">
                <td style="width: 50%">
                    <div id="Relief_Plan">
                        <div class="control-label">
                            @Html.LabelFor(model => model.PlanID, Html.Translate("Plan"))
                        </div>
                        <div class="controls">
                            @Html.DropDownList("PlanID", null, new { @id = "cmb_planId" })
                            @Html.ValidationMessageFor(model => model.PlanID)
                        </div>
                    </div>
                    <div id="PSNP_Plan">
                        <div class="control-label">
                            @Html.LabelFor(model => model.PlanID, Html.Translate("Plan"))
                        </div>
                        <div class="controls">
                            @Html.DropDownList("PSNPPlanID", null, new { @id = "cmb_psnpPlanId" })
                            @Html.ValidationMessageFor(model => model.PlanID)
                        </div>
                    </div>
                </td>
                <td style="width: 50%">
                    
                    
                    <div id="div_round">
                        <div class="control-label">
                            @Html.LabelFor(model => model.Round, "Round")
                        </div>
                        <div class="controls">
                            @Html.DropDownList("Round", String.Empty)
                            @Html.ValidationMessageFor(model => model.Round)
                        </div>
                    </div>
                    <div id="div_donor">
                        <div class="control-label">
                            @Html.LabelFor(model => model.DonorID, "Donor")
                        </div>
                        <div class="controls">
                            @Html.DropDownList("DonorID", string.Empty)
                            @Html.ValidationMessageFor(model => model.DonorID)
                        </div>
                    </div>
                    

                   

                </td>
            </tr>
            <tr>
                <td style="width: 50%">
                    <div>
                        <div class="control-label">
                            @Html.LabelFor(model => model.RegionID, "Region")
                        </div>
                        <div class="controls">
                            @Html.DropDownList("RegionID", string.Empty)
                            @Html.ValidationMessageFor(model => model.RegionID)
                        </div>

                    </div>
                </td>
                <td style="width: 50%" id="div_season">
                     <div >
                        <div class="control-label">
                            @Html.LabelFor(model => model.SeasonID, "Season")
                        </div>
                        <div class="controls">
                            @Html.DropDownList("SeasonID", string.Empty)
                            @Html.ValidationMessageFor(model => model.SeasonID)
                        </div>
                    </div>
                </td>
            </tr>
            <tr id="div_month">
                <td style="width: 50%">
                    <div >
                        <div class="control-label">
                            @Html.LabelFor(model => model.Month, "Month")
                        </div>
                        <div class="controls">
                            @Html.DropDownList("Month", String.Empty)
                            @Html.ValidationMessageFor(model => model.Month)
                        </div>
                    </div>

                </td>

            </tr>
            <tr id="IDPS_Ration">
                <td style="width: 50%">
                    <div >
                        <div class="control-label">
                            @Html.LabelFor(model => model.RationID, Html.Translate("Ration"))
                        </div>
                        <div class="controls">
                            @Html.DropDownList("RationID")
                            @Html.ValidationMessageFor(model => model.RationID)
                        </div>
                    </div>
                    

                </td>

            </tr>
            <tr id="Plan">
                <td style="width: 50%">
                    
                        <label class="control-label"> @Html.Translate("Plan")</label>
                        <div class="controls">
                            <input type="text"   name="Plan" placeholder="Plan">
                        </div>
                    
                </td>

            </tr>
            <tr id="StartDate" >
                <td style="width: 50%">
                    
                        <label class="control-label"> @Html.Translate("Start Date")</label>
                        <div class="controls">
                            <input type="text"  class="cats-datepicker2" name="StartDate">
                        </div>
                    
                </td>

            </tr>
            
            <tr id="EndDate">
                <td style="width: 50%">
                 
                        <label class="control-label"> @Html.Translate("End Date")</label>
                        <div class="controls" >
                            <input type="text"  class="cats-datepicker2" name="EndDate">
                        </div>
                   
                </td>

            </tr>
        </table>
    </div>
@*
    <div class="control-group pull-left">
        <div class="control-label">
            @Html.LabelFor(model => model.ProgramID, "Program")
        </div>
        <div class="controls">
            @Html.DropDownList("ProgramID", null, new { @id = "cmb_programId" })
            @Html.ValidationMessageFor(model => model.ProgramID)
        </div>
    </div>
    <div class="control-group pull-left" id="Relief_Plan">
        <div class="control-label">
            @Html.LabelFor(model => model.PlanID, Html.Translate("Plan"))
        </div>
        <div class="controls">
            @Html.DropDownList("PlanID", null, new { @id = "cmb_planId" })
            @Html.ValidationMessageFor(model => model.PlanID)
        </div>
    </div>
    <div class="control-group pull-left" id="PSNP_Plan">
        <div class="control-label">
            @Html.LabelFor(model => model.PlanID, Html.Translate("Plan"))
        </div>
        <div class="controls">
            @Html.DropDownList("PSNPPlanID", null, new { @id = "cmb_psnpPlanId" })
            @Html.ValidationMessageFor(model => model.PlanID)
        </div>
    </div>
    <div class="control-group pull-left">
        <div class="control-label">
            @Html.LabelFor(model => model.RegionID, "Region")
        </div>
        <div class="controls">
            @Html.DropDownList("RegionID", string.Empty)
            @Html.ValidationMessageFor(model => model.RegionID)
        </div>

    </div>

    <div class="control-group pull-left" id="div_month">
        <div class="control-label">
            @Html.LabelFor(model => model.Month, "Month")
        </div>
        <div class="controls">
            @Html.DropDownList("Month", String.Empty)
            @Html.ValidationMessageFor(model => model.Month)
        </div>
    </div>


    <div class="control-group pull-left" id="div_round">
        <div class="control-label">
            @Html.LabelFor(model => model.Round, "Round")
        </div>
        <div class="controls">
            @Html.DropDownList("Round", String.Empty)
            @Html.ValidationMessageFor(model => model.Round)
        </div>
    </div>


    <div class="control-group pull-left">
        <div class="control-label">
            @Html.LabelFor(model => model.Year, "Year")
        </div>
        <div class="controls">
            @Html.TextBoxFor(model => model.Year)
            @Html.ValidationMessageFor(model => model.Year)

        </div>
    </div>

    <div class="control-group pull-left" id="div_season">
        <div class="control-label">
            @Html.LabelFor(model => model.SeasonID, "Season")
        </div>
        <div class="controls">
            @Html.DropDownList("SeasonID", string.Empty)
            @Html.ValidationMessageFor(model => model.SeasonID)
        </div>
    </div>
    <div class="control-group pull-left" id="div_donor">
        <div class="control-label">
            @Html.LabelFor(model => model.DonorID, "Donor")
        </div>
        <div class="controls">
            @Html.DropDownList("DonorID", string.Empty)
            @Html.ValidationMessageFor(model => model.DonorID)
        </div>
    </div>
*@
}
<script>


    $(function () {

        $("#cmb_programId").change(function () {
            //$this = $(this);
            // $this.attr(label, "");
            var div_season = $("#div_season");
            var div_donor = $("#div_donor");
            var div_month = $("#div_month");
            var div_round = $("#div_round");
            var Relief_Plan = $("#Relief_Plan");
            var PSNP_Plan = $("#PSNP_Plan");
            var IDPS_Ration = $("#IDPS_Ration");

            var EndDate = $("#EndDate");
            var StartDate = $("#StartDate");
            var Plan = $("#Plan");

            var psnp_relif_Plan = $("#psnp_relif_Plan");
            var prog = this.options[this.selectedIndex].innerHTML;

            if (prog == "Relief") {
                div_season.show();
                div_donor.hide();
                div_month.show();
                div_round.show();
                psnp_relif_Plan.show();
                Relief_Plan.show();
                PSNP_Plan.hide();
                IDPS_Ration.hide();
                EndDate.hide();
                StartDate.hide();
                Plan.hide();
                var htm = "<p id ='Year_description'>As specified on the current HRD</p>";
                $("#Year_description").html(htm);
            }
            else if (prog == "PSNP") {
                Relief_Plan.hide();
                psnp_relif_Plan.show();
                PSNP_Plan.show();
                div_season.hide();
                div_donor.show();
                div_month.show();
                div_round.hide();
                IDPS_Ration.hide();
                EndDate.hide();
                StartDate.hide();
                Plan.hide();
                
                var htm = "<p id ='Year_description'>As specified on the current PSNP</p>";
                $("#Year_description").html(htm);
            }
            else if (prog=="IDPS") {
                Relief_Plan.hide();
                PSNP_Plan.hide();
                div_season.show();
                div_donor.show();
                div_month.show();
                div_round.show();
                IDPS_Ration.show();
                EndDate.show();
                StartDate.show();
                Plan.show();
                psnp_relif_Plan.hide();
            }
        });
        $("#cmb_programId").change();
    });
</script>
