@using System.Collections
@model  Cats.Models.HRDPSNPPlan


@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}


<h4>New Regional Request</h4>

@section LeftBar
{
    @Html.Partial("_RegionalRequestLeftBar")

}
@section Toolbar
{
    <a class="btn toolbar-btn " data-buttontype="btn_save" data-submittedform="frm_create_request"></a>
    <a class="btn toolbar-btn " data-buttontype="btn_cancel" href="@Url.Action("Index", "Request")" title="save"></a>
}

@using (Html.BeginForm("New", "Request", FormMethod.Post, new { id = "frm_create_request" }))
{
    <div class="form-horizontal ">
        <div class="control-group">
            <div class="control-label">
                @Html.LabelFor(model => model.ProgramID, "Program")
            </div>
            <div class="controls">
                @Html.DropDownList("ProgramID", null, new { @id = "cmb_programId" })
                @Html.ValidationMessageFor(model => model.ProgramID)
            </div>
        </div>
        <div class="control-group">
            <div class="control-label">
                @Html.LabelFor(model => model.RegionID, "Region")
            </div>
            <div class="controls">
                @Html.DropDownList("RegionID", string.Empty)
                @Html.ValidationMessageFor(model => model.RegionID)
            </div>
        </div>


        <div class="control-group" id="div_month">
            <div class="control-label">
                @Html.LabelFor(model => model.Month, "Month")
            </div>
            <div class="controls">
                @Html.DropDownList("Month", String.Empty)
                @Html.ValidationMessageFor(model => model.Month)
            </div>
        </div>
        
        
        <div class="control-group" id="div_round">
            <div class="control-label">
                @Html.LabelFor(model => model.Round, "Round")
            </div>
            <div class="controls">
                @Html.DropDownList("Month", String.Empty)
                @Html.ValidationMessageFor(model => model.Month)
            </div>
        </div>
        

        <div class="control-group">
            <div class="control-label">
                @Html.LabelFor(model => model.Year,"Year: As specified on the current HRD or PSNP plan")
            </div>
            <div class="controls">
                @Html.EditorFor(model => model.Year)
                @Html.ValidationMessageFor(model => model.Year)
            </div>
        </div>

        <div class="control-group" id="div_season">
            <div class="control-label">
                @Html.LabelFor(model => model.SeasonID, "Season")
            </div>
            <div class="controls">
                @Html.DropDownList("SeasonID", string.Empty)
                @Html.ValidationMessageFor(model => model.SeasonID)
            </div>
        </div>
        <div class="control-group" id="div_donor">
            <div class="control-label">
                @Html.LabelFor(model => model.DonorID, "Donor")
            </div>
            <div class="controls">
                @Html.DropDownList("DonorID", string.Empty)
                @Html.ValidationMessageFor(model => model.DonorID)
            </div>
        </div>
    </div>
  
}
<script>


    $(function () {

        $("#cmb_programId").change(function () {
            //$this = $(this);
            // $this.attr(label, "");
            var div_season = $("#div_season");
            var div_donor = $("#div_donor");
            var div_month = $("#div_month");
            var div_round = $("#div_round");
            
            var prog = this.options[this.selectedIndex].innerHTML;

            if (prog == "Relief") {
                div_season.show();
                div_donor.hide();
                div_month.hide();
                div_round.show();
            }
            else if (prog == "PSNP") {
                div_season.hide();
                div_donor.show();
                div_month.show();
                div_round.hide();
            }
        });
        $("#cmb_programId").change();
    });
</script>
