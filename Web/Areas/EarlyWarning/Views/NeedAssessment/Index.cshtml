@using Cats.Areas.EarlyWarning.Models
@using Kendo.Mvc.UI

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<fieldset>
    <legend>
        Beneficiary numbers and duration of assisstance
    </legend>
</fieldset>

@{var record = 0;}

@(Html.Kendo().Grid<NeedAssessmentViewModel>()
  
    .Name("NA").Columns(columns =>
                            {
                                
    
                                columns.ForeignKey(p => p.Zone, (System.Collections.IEnumerable)ViewData["zone"], "AdminUnitID", "Name").Width(120);
                                columns.ForeignKey(p => p.District, (System.Collections.IEnumerable)ViewData["woreda"], "AdminUnitID", "Name").Width(120);;
        
                                columns.Bound(p => p.VPoorNoOfM).Title("V.P M");
                                columns.Bound(p => p.VPoorNoOfB).Title("V.P B"); ;
                                columns.Bound(p => p.PoorNoOfM).Title("P M"); ;
                                columns.Bound(p => p.PoorNoOfB).Title("P B"); ;
                                columns.Bound(p => p.MiddleNoOfM).Title("M M"); ;
                                columns.Bound(p => p.MiddleNoOfB).Title("M B"); ;
                                columns.Bound(p => p.BOffNoOfM).Title("B M"); ;
                                columns.Bound(p => p.BOffNoOfB).Title("B B"); ;
                                columns.Command(commands =>
                                {
                                    commands.Edit();
                                    commands.Destroy();
                                }).Title("Commands");

                            })
      .Editable(editable => editable.Mode(GridEditMode.InLine))
      .Pageable()
      .Sortable()
      .DataSource(datasource=>datasource.Ajax()
      .Model(model => model.Id(p => p.NAId))
      .Read(read => read.Action("Read", "NeedAssessment"))
      .Update(update=>update.Action("Edit","NeedAssessment"))
      .Create(create=>create.Action("Create","NeedAssessment"))
      .Destroy(destroy=>destroy.Action("Delete","NeedAssessment"))
      )
      .ToolBar((toolbar=>toolbar.Create()))
     
        
      
      )
  
