@using Kendo.Mvc.UI
@model List<Cats.Models.HRD>

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_MainLayout.cshtml";  
}

@(Html.Kendo().Grid<Cats.Models.HRD>()
    .Name("grid")
    .Columns(columns =>
        {
            columns.Bound(p => p.HRDID);
        
        columns.Bound(p => p.Month);
        columns.Bound(p => p.Year);
        columns.Bound(p => p.CreatedDate);
        columns.Bound(p => p.PublishedDate);
        
        //columns.Bound(p => p.DurationOfAssistance);
        //columns.Bound(p => p.StartingMonth);
        //columns.Bound(p => p.Cereal);
        //columns.Bound(p => p.Pulse);
        //columns.Bound(p => p.CSB);
        //columns.Bound(p => p.Oil);
       

        columns.Command(p => p.Custom("ViewDetails").Click("showDetails"));

        //columns.Command(p => p.Custom("ViewDetail").Click("HrdDetail"));
       
    })
    .Pageable()
    .Sortable()
    .Scrollable()
    .Filterable()
    .DataSource(dataSource => dataSource
          .Ajax()
          .PageSize(5)
            .Model(model => model.Id(p => p.HRDID))
            .Read(read => read.Action("HRD_Read", "HRD"))
 
     )
   
      )



<script>
    function showDetails(e) {
        e.preventDefault();
        var dataItem = this.dataItem($(e.currentTarget).closest("tr"));
        window.location = "HRD/HRDDetail/" + dataItem.HRDID;

    }
</script>
<script type="text/javascript">
    function error_handler(e) {
        if (e.errors) {
            var message = "Errors:\n";
            $.each(e.errors, function (key, value) {
                if ('errors' in value) {
                    $.each(value.errors, function () {
                        message += this + "\n";
                    });
                }
            });
            alert(message);
        }
    }
</script>