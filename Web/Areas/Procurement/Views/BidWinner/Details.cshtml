@using Cats.Areas.Procurement.Models
@using Cats.Helpers
@using Cats.Services.Security
@using Kendo.Mvc.UI
@using LanguageHelpers.Localization
@model  WinnersByBidViewModel
@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}
@section Toolbar{
    <div class="btn-group" style="margin-right:8px;">
        <button class="btn">Action</button>
        @{
            
            <button class="btn dropdown-toggle " data-toggle="dropdown">
                <span class="caret"></span>
            </button>
           
           
        }
    <ul class="dropdown-menu">
        <li><a   href="@Url.Action("SignedContract", "BidWinner", new { id = Model.BidID,transporterID=Model.TransporterID })" >Signed Agreement </a></li>
    </ul>
        </div>
     <a class="btn toolbar-btn " href="@Url.Action("ListOfWinners", "BidWinner", new { Area = "Procurement",id=Model.BidID })" data-buttontype="btn_back_to_list"></a>
}
<h4>Transporter Name: @Html.DisplayFor(m=>m.BidWinners.First().TransporterName) </h4>
@(Html.Kendo().Grid<BidWinnerViewModel>(Model.BidWinners)
    .Name("grid")
    .Columns(columns=>
        {
            //columns.Bound(t => t.TransporterName);
                //.ClientTemplate(
                //@Html.EarlyWarningOperationButton(
                //    @Url.Action("Edit", "BidWinner", new { id = "#=BidWinnnerID#" }),
                //    EarlyWarningCheckAccess.Operation.View_Need_Assessment_Detail, "#=TransporterName#").ToString()); 
        columns.Bound(t => t.SourceWarehouse);
        columns.Bound(t => t.Woreda);
        columns.Bound(t => t.Quantity);
        columns.Bound(t => t.WinnerTariff).Title(Translator.Translate("Tariff"));
        //columns.Bound(t => t.StatusID);
       //columns.Bound(t => t.Status);
        })
     .Scrollable()
     .HtmlAttributes(new { style = "height:430px;" })
        .DataSource(datasource=>
            datasource                 
            .Ajax()
            .Group(group=>group.Add(m=>m.TransporterName))
    .Model(model=>model.Id(p=>p.BidWinnnerID))
    
    //.Read("BidWinner_Read","BidWinner",new{id=Model.BidID})
    
      ))