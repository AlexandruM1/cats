@using Cats.Areas.Logistics.Models
@using Kendo.Mvc.UI
@using LanguageHelpers.Localization
@{
    ViewBag.Title = "_DistributionByAge";
}

 @(Html.Kendo().Grid<DistributionByAgeDetailViewModel>()
                      .Name("DistributionByAgeDetail")
                      .Columns(columns =>
                                   {
                                       
                                       columns.Bound(p => p.FDP).Width(70).Title(Translator.Translate("FDP")).HtmlAttributes(new { style = "background-color:lightgray" });
                                       columns.Bound(p => p.RequestedAmount).Width(70).Title(Translator.Translate("Requested")).HtmlAttributes(new { style = "background-color:lightgray" });
                                       columns.Bound(p => p.AllocatedAmount).Width(70).Title(Translator.Translate("Allocated")).HtmlAttributes(new { style = "background-color:lightgray" });
                                       //columns.Bound(p => p.NumberOfBeneficiaries).Width(30).Title(Translator.Translate("No of Beneficiaries")).HtmlAttributes(new { style = "background-color:lightgray" });
                                       //columns.Bound(p => p.ReceivedAtFDPAmount).Width(30).Title(Translator.Translate("Received")).HtmlAttributes(new { align = "right" }).HtmlAttributes(new { style = "background-color:lightgray" });
                                       //columns.Bound(p => p.DispatchedToFDPAmount).Width(30).Title(Translator.Translate("Dispatched")).HtmlAttributes(new { align = "right" }).HtmlAttributes(new { style = "background-color:lightgray" });
                                       
                                       columns.Bound(p => p.MaleLessThan5Years).Title(Translator.Translate("Male < 5")).HtmlAttributes(new { align = "right" });
                                       columns.Bound(p => p.MaleBetween5And18Years).Title(Translator.Translate("Male B/N 5 & 18")).HtmlAttributes(new { align = "right" });
                                       columns.Bound(p => p.MaleAbove18Years).Title(Translator.Translate("Male > 18")).HtmlAttributes(new { align = "right" });

                                       columns.Bound(p => p.FemaleLessThan5Years).Title(Translator.Translate("Female < 5")).HtmlAttributes(new { align = "right" });
                                       columns.Bound(p => p.FemaleBetween5And18Years).Title(Translator.Translate("Female B/N 5 & 18")).HtmlAttributes(new { align = "right" });
                                       columns.Bound(p => p.FemaleAbove18Years).Title(Translator.Translate("Female > 18")).HtmlAttributes(new { align = "right" });

                                   })
                   
                      .Editable(editable => editable.Mode(GridEditMode.InCell))
                      .Scrollable()
                      .Navigatable()
                      .HtmlAttributes(new { style = "height:450px;" })
                   
                      .DataSource(dataSource => dataSource
                                                    .Ajax()
                                                    .Batch(true)
                                                    .Events(e=>e.RequestEnd("onRequestEnd"))
                                                    .ServerOperation(false)
                                                    .Model(model =>
                                                               {
                                                                   model.Id(p => p.FdpId);
                                                                   model.Field(detail => detail.FDP).Editable(false);
                                                                   model.Field(detail => detail.RequestedAmount).Editable(false);
                                                                   model.Field(detail => detail.AllocatedAmount).Editable(false);
                                                                   model.Field(detail => detail.DispatchedToFDPAmount).Editable(false);
                                                                   model.Field(detail => detail.NumberOfBeneficiaries).Editable(false);
                                                                   model.Field(detail => detail.ReceivedAtFDPAmount).Editable(false);
                                                                  

                                                               })
                                                  

                                                    .Read(read => read.Action("DistributionByAge_Read", "Utilization", new { requisitionId = -1}).Data("filterDataRequisitionsDetail"))
                                                   // .Update(update => update.Action("Create", "Utilization"))
                                                   
                                                  
                      ))

            
