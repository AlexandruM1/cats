@*@using Cats.Helpers

@{
    ViewBag.Title = "Index";
    ViewBag.ViewWidth = "Wide";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";
}

<link href="~/Content/DashboardWidget.css" rel="stylesheet">

<html>
<body>
    <div class="row">
        <div class="span6">
            <div class="widget stacked">
                <div class="widget-header">
                    <i class="icon-bookmark"></i>
                    <h3>Welcome to Logistics</h3>
                </div>
                <div class="widget-content">

                    <div class="shortcuts">
                        <a href="@Url.Action("Index", "BeneficiariesAllocation", new { Area = "Logistics" })" class="shortcut"><i class="shortcut-icon icon-list-alt"></i>
                            <span class="shortcut-label">Beneficiaries Allocation</span>
                        </a>

                        <a href="@Url.Action("Index", "HubAllocation", new { Area = "Logistics" })" class="shortcut"><i class="shortcut-icon icon-signal"></i>
                            <span class="shortcut-label">Hub Allocation</span>
                        </a>

                        <a href="@Url.Action("Index", "ProjectAllocation", new { Area = "Logistics" })" class="shortcut"><i class="shortcut-icon icon-inbox"></i>
                            <span class="shortcut-label">Project Allocation</span>
                        </a>

                        <a href="@Url.Action("Index", "TransportRequisition", new { Area = "Logistics" })" class="shortcut"><i class="shortcut-icon icon-tasks"></i>
                            <span class="shortcut-label">Transport Requisition</span>
                        </a>

                    </div>

                </div>
            </div>
        </div>

        <div class="span6">
            <div class="widget stacked">
                <div class="widget-header">
                    <i class="icon-bookmark"></i>
                    <h3>Active Requisitions from Regions</h3>
                </div>
                <div class="widget-content">
                    @Html.Partial("_ApprovedRequisitions")
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="span6">
            <div class="widget stacked">
                <div class="widget-header">
                    <i class="icon-bookmark"></i>
                    <h3>Transport Contract Execution</h3>
                </div>
                <div class="widget-content">
                    @Html.Partial("_TransportContractsExecution")
                </div>
            </div>
        </div>
    </div>
    @Html.Partial("_DispatchProgress")

</body>
</html>*@

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    const string PAGE_NAME = "Logistics.Index";
}

@section styles
{
   
    <link href="~/Content/Dashboard/dashboardcomponents.css" rel="stylesheet" />
   }
<div ng-app>
    <div class="container">
        <div ng-controller="Regions" class="container row">
            <div class="span12" > <h4>Region:</h4> 
                <select ng-model="selected" ng-options="r.name for r in regions">
                    <option value =""> Choose a Region:</option>
                </select>
                
            </div>
            <hr />
        </div>
    </div>
    <div class="container">
       
        <hr />

        <div ng-controller="ImportantNumbers" class="container row">
            
           
            <div class="span8">
                <a href="javascript:;" class="dashboard-stat">
                    <div class="visual">
                        @*<i class="icon-star"></i>*@
                    </div>
                    <!-- /.visual -->

                    <div class="details column-divider-regional center">
                        <span class="content">Approved Requests</span>
                        <span class="value">76</span>
                    </div>

                    <div class="details column-divider-regional center">
                        <span class="content">Pending Hub Allocation</span>
                        <span class="value">7</span>
                    </div>

                    <div class="details column-divider-regional center">
                        <span class="content">Pending SI/PC </span>
                        <span class="value">5 </span>
                    </div>

                    <div class="details column-divider-regional center">
                        <span class="content">transport Req</span>
                        <span class="value">8 </span>
                    </div>

                    <!-- /.details -->
                    
                </a>
                <!-- /.dashboard-stat -->
            </div>
            <!-- /.col-md-3 -->

            <div class="span2">

                <a href="javascript:;" class="dashboard-stat">
                    <div class="visual">
                        @*<i class="icon-shopping-cart"></i>*@
                    </div>
                    <!-- /.visual -->

                    <div class="details">
                        <span class="content">Total Plans</span>
                        <span class="value">8</span>
                    </div>
                    <!-- /.details -->

                </a>
                <!-- /.dashboard-stat -->

            </div>
            <!-- /.col-md-3 -->

            <div class="span2">

                <a href="javascript:;" class="dashboard-stat">
                    <div class="visual">
                        @*<i class="icon-money"></i>*@
                    </div>
                    <!-- /.visual -->

                    <div class="details">
                        <span class="content">Receipt Plan</span>
                        <span class="value">5</span>
                    </div>
                    <!-- /.details -->

                    

                </a>
                <!-- /.dashboard-stat -->

            </div>
            <!-- /.col-md-9 -->
        </div>
        <hr />
    </div>

    <div class="container">

        <div>
            <div class="row" style="border-bottom-width: thin; border-bottom-color: #666; border-bottom-style: inset; margin-top: 5px">

                <div class="pull-left">
                    <h4>Approved Requests</h4>
                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <button id ="ApprovedRequestHeader"type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                            <i class="icon-arrow-up"></i> 
                            <i class="icon-arrow-down"></i> 
                        </button>

                    </div>
                </div>
            </div>
            <div id="ApprovedRequestContent"class="row">
                <div>&nbsp;</div>
                <div ng-controller="ApprovedRequestsController" class="span8">
                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                                <i class=""></i>
                                Approved Requests
                            </h3>
                            <ul class="portlet-tools pull-right">
                                <li>
                                    <button class="btn btn-sm btn-default">
                                        Detail
                                    </button>
                                   
                                </li>
                            </ul>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <th class="table-responsive">
                            <table id="" class="table table-striped table-checkable">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs">Number</th>
                                        <th>Req No</th>
                                        <th>Zone</th>
                                        <th>Beneficiaries</th>
                                        <th>Amount(QT)</th>
                                        <th>Commodity</th>
                                          
                                        <th class="align-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="">
                                        <td class="hidden-xs">REQ-15420</td>
                                        <td>28</td>
                                        <td>{{2800|number}}</td>
                                        <th>{{14580|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve"> Assign Hub</a>
                                        </td>
                                           
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">REQ-00420</td>
                                        <td>320</td>
                                        <td>{{2514|number}}</td>
                                        <th>{{30580|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve"> Assign Hub</a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">REQ-15420</td>
                                        <td>28</td>
                                        <td>{{2800|number}}</td>
                                        <th>{{14580|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve"> Assign Hub</a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">REF-15420</td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve"> Assign Hub</a>
                                        </td>
                                    </tr>

                                       
                                </tbody>
                            </table>

                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.portlet-content -->

                </div>
                <div class="span3">

                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                                <i class=""></i>
                                Percentage
                            </h3>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <div class="progress-stat">

                                <div class="stat-header">

                                    <div class="pull-left">
                                        Approved Requests
                                    </div>
                                    <!-- /.stat-label -->

                                    <div class="pull-right">
                                        33%
                                    </div>
                                    <!-- /.stat-value -->

                                </div>
                                <!-- /stat-header -->

                               
                                <div class="progress progress-success">
                                    <div class="bar" style="width: 33%"></div>
                                </div>
                                <!-- /.progress -->

                            </div>
                            <!-- /.progress-stat -->

                            <div class="progress-stat">

                                <div class="stat-header">

                                    <div class="pull-left">
                                        Pending Requests
                                    </div>
                                    <!-- /.stat-label -->

                                    <div class="pull-right">
                                        42%
                                    </div>
                                    <!-- /.stat-value -->

                                </div>
                                <!-- /stat-header -->

                                <div class="progress progress-danger">
                                    <div class="bar" style="width: 42%"></div>
                                </div>
                                <!-- /.progress -->

                            </div>
                            <!-- /.progress-stat -->

                            <div class="progress-stat">

                                <div class="stat-header">

                                    <div class="pull-left">
                                        Allocated
                                    </div>
                                    <!-- /.stat-label -->

                                    <div class="pull-right">
                                        25%
                                    </div>
                                    <!-- /.stat-value -->

                                </div>
                                <!-- /stat-header -->

                                <div class="progress progress-warning">
                                    <div class="bar" style="width: 25%"></div>
                                </div>
                                <!-- /.progress -->

                            </div>
                            <!-- /.progress-stat -->

                            <br>
                        </div>
                        <!-- /.portlet-content -->

                    </div>
                    <!-- /.portlet -->
                </div>
                <!-- /.portlet -->
            </div>
        </div>

        <div>
            <div class="row" style="border-bottom-width: thin; border-bottom-color: #666; border-bottom-style: inset; margin-top: 5px">

                <div class="pull-left">
                    <h4>Hub Allocation</h4>
                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <button id="HubAllocatedRequisitionHeader"type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                            <i class="icon-arrow-up"></i> 
                            <i class="icon-arrow-down"></i> 
                        </button>

                    </div>
                </div>
            </div>
            <div id="HubAllocatedRequisitionContent" class="row">
                <div>&nbsp;</div>
                
                <div ng-controller="HubAllocationController" class="span8">
                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                                <i class=""></i>
                                Requisitins to be Hub Allocated
                            </h3>
                            <ul class="portlet-tools pull-right">
                                <li>
                                    <button class="btn btn-sm btn-default">
                                        Show more
                                    </button>

                                </li>
                            </ul>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <th class="table-responsive">
                            <table id="" class="table table-striped table-checkable">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs">Number</th>
                                        <th>Req No</th>
                                        <th>Zone</th>
                                        <th>Beneficiaries</th>
                                        <th>Amount(QT)</th>
                                        <th>Commodity</th>
                                        <th class="align-center">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="">
                                        <td class="hidden-xs">REQ-1206</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve">Assign</a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">REQ-1824</td>
                                        <th>Zone</th>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve">Assign</a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">REQ-1325</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve">Assign</a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">REQ-0026</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </th>
                                        <td><span class="label label-danger">Pending</span></td>
                                        <td class="align-center">
                                            <a class="btn btn-sm btn-default" data-original-title="Approve">Assign</a>
                                        </td>
                                    </tr>


                                </tbody>
                            </table>

                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.portlet-content -->

                </div>

                <!-- /.portlet -->
            </div>
        </div>

        <div>
            <div class="row" style="border-bottom-width: thin; border-bottom-color: #666; border-bottom-style: inset; margin-top: 5px">

                <div class="pull-left">
                    <h4>SI Allocation</h4>
                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <button id="SIPCHeader" type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                            <i class="icon-arrow-up"></i> 
                            <i class="icon-arrow-down"></i> 
                        </button>

                    </div>
                </div>
            </div>
            <div id="SIPCContent"class="row">
                <div>&nbsp;</div>

                <div ng-controller="SIPCController" class="span8">
                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                                <i class=""></i>
                                Requistions to be SI Allocated
                            </h3>
                            <ul class="portlet-tools pull-right">
                                <li>
                                    <button class="btn btn-sm btn-default">
                                        Show more
                                    </button>
                                    @*<a class="btn btn-sm btn-default" href="@Url.Action("Index", "DeliveryReconcile", new { Area="Logistics", regionID= ViewBag.RegionID })">FDP Commodity Receipt</a>*@
                                </li>
                            </ul>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <th class="table-responsive">
                            <table id="" class="table table-striped table-checkable">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs">Number</th>
                                        <th>Req No</th>
                                        <th>Zone</th>
                                        <th>Beneficiaries</th>
                                        <th>Amount(QT)</th>
                                        <th>Commodity</th>
                                        <th>SI/PC</th>
                                        <th>SI/PC Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="">
                                        <td class="hidden-xs">REQ-1325</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>si-0002</th>
                                        <th>100</th>
                                    </tr>
                                    <tr class="">
                                        <td class="hidden-xs">REQ-1325</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>si-0003</th>
                                        <th>1000</th>
                                    </tr>
                                    <tr class="">
                                        <td class="hidden-xs">REQ-1325</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>si-0005</th>
                                        <th>300</th>
                                    </tr>
                                    <tr class="">
                                        <td class="hidden-xs">REQ-1325</td>
                                        <td>zone 1 </td>
                                        <td>85</td>
                                        <td>{{8547|number}}</td>
                                        <th>{{54124|number}} QT</th>
                                        <th>pulse</th>
                                        <th>si-0009</th>
                                        <th>800</th>
                                    </tr>


                                </tbody>
                            </table>

                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.portlet-content -->

                </div>
                <div class="span3">

                    <div class="portlet">
                        <!-- /.portlet-header -->

                        <div class="">
                            <a href="javascript:;" class="dashboard-stat">
                                <div class="details ">
                                    <span class="content">Number of Incoming Dispatches</span>
                                    <span class="value">98 </span>
                                </div>
                            </a>
                            <br>
                        </div>

                        <div class="">
                            <a href="javascript:;" class="dashboard-stat">
                                <div class="details ">
                                    <span class="content">Total Incoming Commodity</span>
                                    <span class="value">200 QT </span>
                                </div>
                            </a>
                            <br>
                        </div>
                        <!-- /.portlet-content -->

                    </div>
                    <!-- /.portlet -->
                </div>
                <!-- /.portlet -->
            </div>
        </div>

        <div>
            <div class="row" style="border-bottom-width: thin; border-bottom-color: #666; border-bottom-style: inset; margin-top: 5px">

                <div class="pull-left">
                    <h4>Transport Requisition</h4>
                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <button id="TransportRequisitionHeader"type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                            <i class="icon-arrow-up"></i> 
                            <i class="icon-arrow-down"></i> 
                        </button>

                    </div>
                </div>
            </div>
            <div id="TransportRequisitionContent"class="row">
                <div>&nbsp;</div>

                <div ng-controller="TransportRequisitionController" class="span8">
                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                                <i class=""></i>
                                Current Transport Requisition
                            </h3>
                            <ul class=" pull-right portlet-tools ">
                                <li>
                                    <button class="btn btn-sm btn-default">
                                        Show more
                                    </button>

                                </li>
                            </ul>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <th class="table-responsive">
                            <table id="" class="table table-striped table-checkable">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs">Number</th>
                                        <th>Requisition Date</th>
                                        <th>Req No</th>
                                        <th>Zone</th>
                                        <th>Beneficiaries</th>
                                        <th>Amount(QT)</th>
                                        <th>Commodity</th>
                                            
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="">
                                        <td class="hidden-xs">EM/2/15/2013</td>
                                        <td>ህዳር 19 - 2006 </td>
                                        <td>REQ-3</td>
                                        <th>Zone 1</th>
                                        <th>900</th>
                                        <th>9000</th>
                                        <th>Pulse</th>
                                        <td><span class="label label-default">On process</span></td>
                                        <td>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">EM/6/15/2013</td>
                                        <td>ህዳር 19 - 2006 </td>
                                        <td>REQ-4</td>
                                        <th>Zone 3</th>
                                        <th>66</th>
                                        <th>567</th>
                                        <th>Cereal</th>
                                        <td><span class="label label-default">On process</span></td>
                                        <td>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">EM/2/15/2013</td>
                                        <td>ህዳር 19 - 2006 </td>
                                        <td>REQ-6</td>
                                        <th>Zone 7</th>
                                        <th>89</th>
                                        <th>5</th>
                                        <th>Pulse</th>
                                        <td><span class="label label-default">On process</span></td>
                                        <td>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </td>
                                    </tr>

                                    <tr class="">
                                        <td class="hidden-xs">EM/2/888/2013</td>
                                        <td>ህዳር 19 - 2006 </td>
                                        <td>REQ-55</td>
                                        <th>Zone-4</th>
                                        <th>7</th>
                                        <th>77</th>
                                        <th>Pulse</th>
                                        <td><span class="label label-default">On process</span></td>
                                        <td>
                                            <a href="javascript:;" class="btn btn-sm btn-default">View <i class="icon-chevron-right"></i>
                                            </a>
                                        </td>
                                    </tr>


                                </tbody>
                            </table>

                        </div>
                        <!-- /.table-responsive -->
                    </div>
                    <!-- /.portlet-content -->

                </div>
                
                
                <!-- /.portlet -->
            </div>
        </div>

    </div>
</div>

<script>
    $("#ApprovedRequestHeader").click(function () {
        $("#ApprovedRequestContent").slideToggle("slow", "linear");
    });
    
    $("#HubAllocatedRequisitionHeader").click(function () {
        $("#HubAllocatedRequisitionContent").slideToggle("slow", "linear");
    });
    
    $("#SIPCHeader").click(function () {
        $("#SIPCContent").slideToggle("slow", "linear");
    });
    
    $("#TransportRequisitionHeader").click(function () {
        $("#TransportRequisitionContent").slideToggle("slow", "linear");
    });
</script>

<script>
    
    var Regions = function($scope)
    {
        $scope.regions = [
            { name:'Afar' },
            { name: 'Amhara' },
            { name: 'Tigraye' }];
    }
    ;
    
</script>

