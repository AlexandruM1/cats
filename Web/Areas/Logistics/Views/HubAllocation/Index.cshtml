@model  IEnumerable<Cats.Models.ViewModels.RequisitionHub>

@{
    ViewBag.Title = "Regional Hub Allocation";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}


<div class="well">
    <h4 class="page-header">Regional Monthly Relief Requests</h4>
    <br />
    <div>
    @Html.Label("Date: " + @DateTime.Now)
        </div>


</div>
@section LeftBar
{
    <div class="control-group">
        <label class="control-label">Year</label>
        <div class="controls">
            <input type="date" />
        </div>
    </div>

    <div class="control-group">
        <label class="control-label">Month</label>
        <div class="controls">
            <select>
                <option>Select Month</option>
            </select>
        </div>
    </div>

    <div class="control-group">
        <label class="control-label">Region</label>
        <div class="controls">
            <select>
                <option>Select Region</option>
            </select>
        </div>
    </div>

    <div class="control-group">
        <div class="controls">            
            <a class="btn btn-success" href="#">Filter</a>
        </div>
    </div>

}
@using (Html.BeginForm("Edit", "HubAllocation", FormMethod.Post))
{
<table class="table table-striped table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ReferenceNumber)
        </th>
            <th>
                @Html.DisplayNameFor(model => model.RequestedItem.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RequestedAmount)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.Region)
            </th>
                <th>
                    @Html.Label("WareHouse")
            </th>     
    </tr>
    @{int index = 0;}
    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.ReferenceNumber)      
            </td> 
            <td>
                @Html.DisplayFor(modelItem => item.RequestedItem.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.RequestedAmount)
            </td>

            <td>
                                    @Html.DisplayFor(modelItem => item.Region)

            </td>
            <td>
                <div style="display:none">@Html.TextBox("input[" + index + "].ReliefRequistionId", item.Input.ReliefRequistionID)</div>
                <select name="input[@index].HubID">
                    @foreach (var hub in ViewBag.AllHubs)
                    {
                        <option value="@hub.HubId">@hub.Name

                        </option>
                    }
                </select>
            </td>
        </tr>
       index++;
    }

</table>
<input type="submit" class="btn btn-success"/>
}

