@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_MainLayout.cshtml";
 const string PAGE_NAME = "Logistics.Index";
}

@section styles
{
   
    <link href="~/Content/Dashboard/dashboardcomponents.css" rel="stylesheet" />
   }
<div ng-app="myApp">
    
    <div class="container">

        <div>
            <div class="row" style="border-bottom-width: thin; border-bottom-color: #666; border-bottom-style: inset; margin-top: 5px">

                <div class="pull-left">
                    <h4>Transporter Payment Requests</h4>
                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <button id ="paymentRequestHeader"type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                            <i class="icon-arrow-up"></i> 
                            <i class="icon-arrow-down"></i> 
                        </button>

                    </div>
                </div>
            </div>
            <div id="paymentRequestContent"class="row">
                <div>&nbsp;</div>
                <div ng-controller="paymentRequestController" class="span8">
                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                              
                                <i class=""></i>
                                Payment Status
                            </h3>
                            <ul class="portlet-tools pull-right">
                                <li>
                                    <button class="btn btn-sm btn-default">
                                        Detail
                                    </button>
                                   
                                </li>
                            </ul>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <th class="table-responsive">
                            <table id="" class="table table-striped table-checkable">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs">Number</th>
                                        <th>Reference No</th>
                                        <th>Transport Order No</th>
                                        <th>Transporter</th>
                                        <th>Payment Amount</th>
                                        <th>Transported Amout (QT)</th>
                                       
                                        
                                    </tr>
                                </thead>
                                <tbody>
                                     <tr  ng-repeat ="req in paymentRequest">
                                         <td class="hidden-xs">{{$Index + 1}}</td>
                                         <td>{{req.ReferenceNo}}</td>
                                        <td>{{req.TransportOrder}}</td>
                                        <td>{{req.Transporter}}</td>
                                        <th>{{req.Amount}}</th>
                                        <th>{{req.AmountTransported}}</th>
                                       
                                    </tr>
                                   
                                </tbody>
                            </table>

                        </div>
                        
                    </div> 

                </div>
            </div>
        </div>
    </div>
    
    
    <div class="container">

        <div>
            <div class="row" style="border-bottom-width: thin; border-bottom-color: #666; border-bottom-style: inset; margin-top: 5px">

                <div class="pull-left">
                    <h4>Cheque</h4>
                </div>
                <div class="pull-right">
                    <div class="btn-group">
                        <button id ="ChequeHeader"type="button" class="btn btn-sm btn-default dropdown-toggle" data-toggle="dropdown">
                            <i class="icon-arrow-up"></i> 
                            <i class="icon-arrow-down"></i> 
                        </button>

                    </div>
                </div>
            </div>
            <div id="ChequeContent"class="row">
                <div>&nbsp;</div>
                <div ng-controller="ChequeController" class="span8">
                    <div class="portlet">
                        <div class="portlet-header">
                            <h3>
                              
                                <i class=""></i>
                                Cheque Status
                            </h3>
                            <ul class="portlet-tools pull-right">
                                <li>
                                    <button class="btn btn-sm btn-default">
                                        Detail
                                    </button>
                                   
                                </li>
                            </ul>
                        </div>

                        <!-- /.portlet-header -->

                        <div class="portlet-content">
                            <th class="table-responsive">
                            <table id="" class="table table-striped table-checkable">
                                <thead>
                                    <tr>
                                        <th class="hidden-xs">Number</th>
                                        <th>Cheque No</th>
                                         <th>Transporter</th>
                                        <th>Amount</th>
                                        <th>Date</th>
                                        <th>Prepared By</th>
                                        <th>Approved By</th>
                                        <th>Status</th>
                                       </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="req in cheques">
                                        <td class="hidden-xs">{{$Index + 1}}</td>
                                        <td>{{req.chequeNo}}</td>
                                        <td>{{req.Transporter}}</td>
                                        <th>{{req.Amount}}</th>
                                        <th>{{}}</th>
                                        <th>{{req.PreparedBy}}</th>
                                        <th>{{req.PreparedBy}}</th>
                                        <th>{{req.status}}</th>
                                    </tr>
                                    
                                   
                                    
                                </tbody>
                            </table>

                        </div>
                        
                    </div> 

                </div>
            </div>
        </div>
    </div>


</div>

<script>

    myApp = angular.module('myApp', []);
    
    myApp.controller('paymentRequestController', ['$scope', '$http', '$rootScope', function ($scope, $http) {

      
        $scope.paymentRequest = {};
        $http({ method: 'GET', url: '@Url.Action("ReadPaymentRequest","Home")' }).success(function(data, status, headers, config) {
            $scope.paymentRequest = data;
        });
    }]);
    
    myApp.controller('ChequeController', ['$scope', '$http', '$rootScope', function ($scope, $http) {


        $scope.cheques = {};
        $http({ method: 'GET', url: '@Url.Action("ReadCheques","Home")' }).success(function (data, status, headers, config) {
            $scope.cheques = data;
        });
     }]);
</script>